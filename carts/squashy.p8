pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
score=0
lives=3

--paddle
padx=52
pady=122
padw=24
padh=4

--ball
ballx=64
bally=64
ballsz=3
ballxdir=5
ballydir=5

function movepaddle()
	if btn(0) then
		padx-=3
	elseif btn(1) then
		padx+=3
	end
end

function moveball()
	ballx+=ballxdir
	bally+=ballydir
end

function bounceball()
	if ballx<ballsz then
		ballxdir=-ballxdir
		sfx(0)
	end
	
	if ballx>128-ballsz then
		ballxdir=-ballxdir
		sfx(0)
	end
	
	if bally<ballsz then
		ballydir=-ballydir
		sfx(0)
	end
end

function bouncepaddle()
	if ballx>=padx and
	ballx<=padx+padw and
	bally>pady then
		sfx(1)
		score+=10
		ballydir=-ballydir
	end
end

function losedeadball()
	if bally>128-ballsz then
		if lives>0 then
			sfx(3)
			bally=24
			lives-=1
		else
			ballydir=0
			ballxdir=0
			bally=64
		end
	end
end

function _update()
	movepaddle()
	bounceball()
	bouncepaddle()
	moveball()
	losedeadball()
end


function _draw()
	rectfill(0,0,128,128,3)
	for i=1,lives do
		spr(001,90+i*8,4)
	end
	print(score,12,6,15)
	rectfill(padx,pady,padx+padw,pady+padh,15)
	circfill(ballx,bally,ballsz,15)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000ff0ff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700fffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000fffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000fffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070000fff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000400001005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000300003305023050120500f0500e0500c0500b05000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00010000000002e0502b0502a05029050270500000023050230502305024050240502605000000000003405034050340503405000000000000000000000000000000000000000000000000000000000000000000
